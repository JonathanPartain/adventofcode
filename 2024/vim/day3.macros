:%s/\n//g -> u
:%s/mul(\(\d\{1,3\}\),\(\d\{1,3\}\))/\rmul\1*\2\r/g -> s
:g!/mul\d\{1,3\}\*\d\{1,3\}/d -> t
ggVG:s/mul//<cr>kVgg:s/$\n/+<cr> -> f
V"+Y -> y

stage one

@u@s@t@f@y -> o

stage 2

%s/\(do()\)\|\(don't()\)/\r\1\2/g -> z
ggVG:g/^don't()/d -> x

@s
@t
@f
@y

@u@z@x@s@t@f@y -> m
